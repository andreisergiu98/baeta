/*! For license information please see 71a1cd14.9a77503f.js.LICENSE.txt */
"use strict";(self.webpackChunk_baeta_website=self.webpackChunk_baeta_website||[]).push([[100],{58612:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>c,frontMatter:()=>l,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"plugins/autoloading","title":"Autoloading","description":"Baeta provides an autoloading plugin that automatically discovers and loads your modules and resolvers, eliminating the need for manual registration.","source":"@site/docs/plugins/autoloading.mdx","sourceDirName":"plugins","slug":"/plugins/autoloading","permalink":"/docs/plugins/autoloading","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"defaultSidebar","previous":{"title":"Plugins","permalink":"/docs/category/plugins"},"next":{"title":"Built-in Directives","permalink":"/docs/plugins/builtin-directives"}}');var s=o(77250),i=o(50589);const l={sidebar_position:10},r="Autoloading",a={},u=[{value:"Configuration",id:"configuration",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Without Autoloading",id:"without-autoloading",level:2},{value:"Default Resolver Suffixes",id:"default-resolver-suffixes",level:2},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Resolver Options",id:"resolver-options",level:3},{value:"Module Options",id:"module-options",level:3},{value:"Autoload Plugin Options",id:"autoload-plugin-options",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"autoloading",children:"Autoloading"})}),"\n",(0,s.jsx)(n.p,{children:"Baeta provides an autoloading plugin that automatically discovers and loads your modules and resolvers, eliminating the need for manual registration."}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Enable autoloading in your ",(0,s.jsx)(n.code,{children:"baeta.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { defineConfig } from "@baeta/cli";\nimport { autoloadPlugin } from "@baeta/plugin-autoload";\n\nexport default defineConfig({\n  // ... other config\n  plugins: [autoloadPlugin()],\n});\n'})}),"\n",(0,s.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,s.jsx)(n.p,{children:"The autoloader expects a specific project structure:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"src/\n\u251c\u2500\u2500 modules/\n\u2502   \u251c\u2500\u2500 user/\n\u2502   \u2502   \u251c\u2500\u2500 user.gql\n\u2502   \u2502   \u251c\u2500\u2500 resolvers.ts\n\u2502   \u2502   \u2514\u2500\u2500 typedef.ts\n\u2502   \u251c\u2500\u2500 post/\n\u2502   \u2502   \u251c\u2500\u2500 post.gql\n\u2502   \u2502   \u251c\u2500\u2500 post.resolvers.ts // The suffix is what matters\n\u2502   \u2502   \u2514\u2500\u2500 typedef.ts\n\u2502   \u251c\u2500\u2500 scalars/\n\u2502   \u2502   \u251c\u2500\u2500 scalars.gql\n\u2502   \u2502   \u251c\u2500\u2500scalars.resolvers.ts\n\u2502   \u2502   \u2514\u2500\u2500  typedef.ts\n\u2502   \u2514\u2500\u2500 autoload.ts // Generated by the plugin\n\u2514\u2500\u2500 baeta.ts\n"})}),"\n",(0,s.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsx)(n.p,{children:"With autoloading enabled:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"No need to create index.ts files"}),"\n",(0,s.jsx)(n.li,{children:"No need to manually import resolvers"}),"\n",(0,s.jsx)(n.li,{children:"No need to export modules"}),"\n",(0,s.jsx)(n.li,{children:"No need to register resolvers in your application setup"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The plugin will:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Discover all .gql files in your modules directory"}),"\n",(0,s.jsx)(n.li,{children:"Load corresponding resolver files"}),"\n",(0,s.jsxs)(n.li,{children:["Create ",(0,s.jsx)(n.code,{children:"autoload.ts"})," with resolver registration and modules exports"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Just import the ",(0,s.jsx)(n.code,{children:"autoload.ts"})," file in your application setup:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { modules } from "./modules/autoload.ts";\n\nconst baeta = createApplication({\n  modules,\n});\n'})}),"\n",(0,s.jsx)(n.h2,{id:"without-autoloading",children:"Without Autoloading"}),"\n",(0,s.jsx)(n.p,{children:"Without the plugin, you would need to manually:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// src/modules/user/index.ts\nimport "./resolvers";\nimport { getUserModule } from "./typedef";\n\nexport const userModule = getUserModule();\n\n// src/app.ts\nimport { userModule } from "./modules/user";\nimport { postModule } from "./modules/post";\nimport { scalarsModule } from "./modules/scalars";\n\n// Register each module manually\nconst baeta = createApplication({\n  modules: [userModule, postModule, scalarsModule],\n});\n'})}),"\n",(0,s.jsx)(n.h2,{id:"default-resolver-suffixes",children:"Default Resolver Suffixes"}),"\n",(0,s.jsx)(n.p,{children:"By default, the plugin looks for files with these suffixes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'const defaultSuffixes = [\n  "auth",\n  "authorization",\n  "authorizations",\n  "cache",\n  "caches",\n  "resolver",\n  "resolvers",\n  "query",\n  "queries",\n  "mutation",\n  "mutations",\n  "subscription",\n  "subscriptions",\n  "baeta",\n];\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This means files like ",(0,s.jsx)(n.code,{children:"user.resolver.ts"}),", ",(0,s.jsx)(n.code,{children:"auth.ts"}),", or ",(0,s.jsx)(n.code,{children:"queries.ts"})," will be automatically loaded."]}),"\n",(0,s.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,s.jsx)(n.h3,{id:"resolver-options",children:"Resolver Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface ResolverOptions {\n  // Custom suffixes to look for\n  suffix?: string | string[];\n\n  // Disable the default suffixes\n  disableDefaultSuffixes?: boolean;\n\n  // Custom matching function\n  match?: (filename: string) => boolean;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"module-options",children:"Module Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface ModuleOptions {\n  // Custom matching function for module names\n  match?: (moduleName: string) => boolean;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"autoload-plugin-options",children:"Autoload Plugin Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface AutoloadPluginOptions {\n  // Enable/disable resolver autoloading\n  resolvers?: boolean | ResolverOptions;\n\n  // Enable/disable module autoloading\n  modules?: boolean | ModuleOptions;\n\n  // Output path for generated files\n  output?: string;\n}\n"})})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},2410:(e,n,o)=>{var t=o(67402),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(e,n,o){var t,i={},u=null,d=null;for(t in void 0!==o&&(u=""+o),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(d=n.ref),n)l.call(n,t)&&!a.hasOwnProperty(t)&&(i[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===i[t]&&(i[t]=n[t]);return{$$typeof:s,type:e,key:u,ref:d,props:i,_owner:r.current}}n.Fragment=i,n.jsx=u,n.jsxs=u},77250:(e,n,o)=>{e.exports=o(2410)},50589:(e,n,o)=>{o.d(n,{R:()=>l,x:()=>r});var t=o(67402);const s={},i=t.createContext(s);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);