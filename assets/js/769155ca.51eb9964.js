/*! For license information please see 769155ca.51eb9964.js.LICENSE.txt */
"use strict";(self.webpackChunk_baeta_website=self.webpackChunk_baeta_website||[]).push([[2316],{728:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>i,contentTitle:()=>l,default:()=>x,frontMatter:()=>t,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"api/extension-auth/index","title":"@baeta/extension-auth","description":"Interfaces","source":"@site/docs/api/extension-auth/index.md","sourceDirName":"api/extension-auth","slug":"/api/extension-auth/","permalink":"/docs/api/extension-auth/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"errors","permalink":"/docs/api/errors/"},"next":{"title":"AuthExtension","permalink":"/docs/api/extension-auth/namespaces/AuthExtension"}}');var d=r(7250),c=r(589);const t={},l="@baeta/extension-auth",i={},o=[{value:"Interfaces",id:"interfaces",level:2},{value:"AuthMethodOptions&lt;Result, Root, Context, Args&gt;",id:"authmethodoptionsresult-root-context-args",level:3},{value:"Type Parameters",id:"type-parameters",level:4},{value:"Properties",id:"properties",level:4},{value:"AuthMethodSubscribeOptions&lt;Root, Context, Args&gt;",id:"authmethodsubscribeoptionsroot-context-args",level:3},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"Properties",id:"properties-1",level:4},{value:"AuthOptions",id:"authoptions",level:3},{value:"Properties",id:"properties-2",level:4},{value:"Type Aliases",id:"type-aliases",level:2},{value:"DefaultScopes",id:"defaultscopes",level:3},{value:"Type declaration",id:"type-declaration",level:4},{value:"GetGrant&lt;Result, Root, Context, Args&gt;",id:"getgrantresult-root-context-args",level:3},{value:"Type Parameters",id:"type-parameters-2",level:4},{value:"GetGrantFn()&lt;Result, Root, Context, Args&gt;",id:"getgrantfnresult-root-context-args",level:3},{value:"Type Parameters",id:"type-parameters-3",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"GetGrantResult",id:"getgrantresult",level:3},{value:"GetPostScopeRules()&lt;Result, Root, Context, Args&gt;",id:"getpostscoperulesresult-root-context-args",level:3},{value:"Type Parameters",id:"type-parameters-4",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"GetScopeLoader()&lt;Ctx&gt;",id:"getscopeloaderctx",level:3},{value:"Type Parameters",id:"type-parameters-5",level:4},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-2",level:4},{value:"Example",id:"example",level:4},{value:"GetScopeRules()&lt;Root, Context, Args&gt;",id:"getscoperulesroot-context-args",level:3},{value:"Type Parameters",id:"type-parameters-6",level:4},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-3",level:4},{value:"LogicRule",id:"logicrule",level:3},{value:"ScopeErrorResolver()",id:"scopeerrorresolver",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-4",level:4},{value:"ScopeLoader&lt;T&gt;",id:"scopeloadert",level:3},{value:"Type Parameters",id:"type-parameters-7",level:4},{value:"Example",id:"example-1",level:4},{value:"ScopeLoaderMap",id:"scopeloadermap",level:3},{value:"Example",id:"example-2",level:4},{value:"ScopeRule&lt;T&gt;",id:"scoperulet",level:3},{value:"Type Parameters",id:"type-parameters-8",level:4},{value:"ScopeRules",id:"scoperules",level:3},{value:"Type declaration",id:"type-declaration-1",level:4},{value:"Scopes",id:"scopes",level:3},{value:"Functions",id:"functions",level:2},{value:"aggregateErrorResolver()",id:"aggregateerrorresolver",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-5",level:4},{value:"authExtension()",id:"authextension",level:3},{value:"Type Parameters",id:"type-parameters-9",level:4},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Returns",id:"returns-7",level:5},{value:"Example",id:"example-3",level:4},{value:"Namespaces",id:"namespaces",level:2}];function h(e){const s={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.header,{children:(0,d.jsx)(s.h1,{id:"baetaextension-auth",children:"@baeta/extension-auth"})}),"\n",(0,d.jsx)(s.h2,{id:"interfaces",children:"Interfaces"}),"\n",(0,d.jsx)(s.h3,{id:"authmethodoptionsresult-root-context-args",children:"AuthMethodOptions<Result, Root, Context, Args>"}),"\n",(0,d.jsx)(s.p,{children:"Options for authorization methods"}),"\n",(0,d.jsx)(s.h4,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsx)(s.tr,{children:(0,d.jsx)(s.th,{children:"Type Parameter"})})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Result"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Root"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Context"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Args"})}),"\n"]})})]})]}),"\n",(0,d.jsx)(s.h4,{id:"properties",children:"Properties"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Property"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"grants?"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#getgrantresult-root-context-args",children:(0,d.jsx)(s.code,{children:"GetGrant"})}),"<",(0,d.jsx)(s.code,{children:"Result"}),", ",(0,d.jsx)(s.code,{children:"Root"}),", ",(0,d.jsx)(s.code,{children:"Context"}),", ",(0,d.jsx)(s.code,{children:"Args"}),">"]}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Permissions to grant after successful authorization"}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"onError?"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scopeerrorresolver",children:(0,d.jsx)(s.code,{children:"ScopeErrorResolver"})})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Custom error handler for this operation"}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"skipDefaults?"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"boolean"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Whether to skip default scopes for this operation"}),"\n"]})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"authmethodsubscribeoptionsroot-context-args",children:"AuthMethodSubscribeOptions<Root, Context, Args>"}),"\n",(0,d.jsx)(s.p,{children:"Options for subscription authorization"}),"\n",(0,d.jsx)(s.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsx)(s.tr,{children:(0,d.jsx)(s.th,{children:"Type Parameter"})})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Root"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Context"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Args"})}),"\n"]})})]})]}),"\n",(0,d.jsx)(s.h4,{id:"properties-1",children:"Properties"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Property"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"onError?"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scopeerrorresolver",children:(0,d.jsx)(s.code,{children:"ScopeErrorResolver"})})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Custom error handler for this subscription"}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"skipDefaults?"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"boolean"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Whether to skip default scopes for this subscription"}),"\n"]})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"authoptions",children:"AuthOptions"}),"\n",(0,d.jsx)(s.p,{children:"Configuration options for the Auth Extension"}),"\n",(0,d.jsx)(s.h4,{id:"properties-2",children:"Properties"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Property"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"defaultScopes?"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#defaultscopes-1",children:(0,d.jsx)(s.code,{children:"DefaultScopes"})})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Default authorization scopes for queries, mutations or subscriptions"}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"errorResolver?"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scopeerrorresolver",children:(0,d.jsx)(s.code,{children:"ScopeErrorResolver"})})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Custom error resolver for authorization failures"}),"\n"]})]})]})]}),"\n",(0,d.jsx)(s.h2,{id:"type-aliases",children:"Type Aliases"}),"\n",(0,d.jsx)(s.h3,{id:"defaultscopes",children:"DefaultScopes"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"DefaultScopes"}),": ",(0,d.jsx)(s.code,{children:"object"})]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Configuration for default authorization scopes that apply to all operations of a specific type."}),"\n",(0,d.jsx)(s.h4,{id:"type-declaration",children:"Type declaration"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Name"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"Mutation"}),"?"]}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Default scopes applied to all Mutation operations"}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"Query"}),"?"]}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Default scopes applied to all Query operations"}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"Subscription"}),"?"]}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"object"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Default scopes for Subscription operations"}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"Subscription.resolve"}),"?"]}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Scopes applied during the resolve phase"}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"Subscription.subscribe"}),"?"]}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Scopes applied during the subscription phase"}),"\n"]})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"getgrantresult-root-context-args",children:"GetGrant<Result, Root, Context, Args>"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"GetGrant"}),"<",(0,d.jsx)(s.code,{children:"Result"}),", ",(0,d.jsx)(s.code,{children:"Root"}),", ",(0,d.jsx)(s.code,{children:"Context"}),", ",(0,d.jsx)(s.code,{children:"Args"}),">: ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#getgrantfnresult-root-context-args",children:(0,d.jsx)(s.code,{children:"GetGrantFn"})}),"<",(0,d.jsx)(s.code,{children:"Result"}),", ",(0,d.jsx)(s.code,{children:"Root"}),", ",(0,d.jsx)(s.code,{children:"Context"}),", ",(0,d.jsx)(s.code,{children:"Args"}),"> | ",(0,d.jsx)(s.code,{children:"any"}),"[]"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Union type for grant specifications.\nCan be either a static grant result or a function that determines grants dynamically."}),"\n",(0,d.jsx)(s.h4,{id:"type-parameters-2",children:"Type Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsx)(s.tr,{children:(0,d.jsx)(s.th,{children:"Type Parameter"})})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Result"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Root"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Context"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Args"})}),"\n"]})})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"getgrantfnresult-root-context-args",children:"GetGrantFn()<Result, Root, Context, Args>"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"GetGrantFn"}),"<",(0,d.jsx)(s.code,{children:"Result"}),", ",(0,d.jsx)(s.code,{children:"Root"}),", ",(0,d.jsx)(s.code,{children:"Context"}),", ",(0,d.jsx)(s.code,{children:"Args"}),">: (",(0,d.jsx)(s.code,{children:"params"}),", ",(0,d.jsx)(s.code,{children:"result"}),") => ",(0,d.jsx)(s.code,{children:"any"}),"[] | ",(0,d.jsx)(s.code,{children:"PromiseLike"}),"<",(0,d.jsx)(s.code,{children:"any"}),"[]>"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Function that determines grants based on resolver parameters and result.\nUsed for dynamic permission granting based on resolved data."}),"\n",(0,d.jsx)(s.h4,{id:"type-parameters-3",children:"Type Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsx)(s.tr,{children:(0,d.jsx)(s.th,{children:"Type Parameter"})})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Result"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Root"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Context"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Args"})}),"\n"]})})]})]}),"\n",(0,d.jsx)(s.h4,{id:"parameters",children:"Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Parameter"}),(0,d.jsx)(s.th,{children:"Type"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"params"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"MiddlewareParams"}),"<",(0,d.jsx)(s.code,{children:"Root"}),", ",(0,d.jsx)(s.code,{children:"Context"}),", ",(0,d.jsx)(s.code,{children:"Args"}),">"]}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"result"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Result"})}),"\n"]})]})]})]}),"\n",(0,d.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"any"}),"[] | ",(0,d.jsx)(s.code,{children:"PromiseLike"}),"<",(0,d.jsx)(s.code,{children:"any"}),"[]>"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"getgrantresult",children:"GetGrantResult"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"GetGrantResult"}),": ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/namespaces/AuthExtension#grants",children:(0,d.jsx)(s.code,{children:"Grants"})})," | ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/namespaces/AuthExtension#grants",children:(0,d.jsx)(s.code,{children:"Grants"})}),"[]"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Represents the result of a grant operation.\nCan be either a single grant or an array of grants defined in AuthExtension.GrantsMap."}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"getpostscoperulesresult-root-context-args",children:"GetPostScopeRules()<Result, Root, Context, Args>"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"GetPostScopeRules"}),"<",(0,d.jsx)(s.code,{children:"Result"}),", ",(0,d.jsx)(s.code,{children:"Root"}),", ",(0,d.jsx)(s.code,{children:"Context"}),", ",(0,d.jsx)(s.code,{children:"Args"}),">: (",(0,d.jsx)(s.code,{children:"params"}),", ",(0,d.jsx)(s.code,{children:"result"}),") => ",(0,d.jsx)(s.code,{children:"boolean"})," | ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})})," | ",(0,d.jsx)(s.code,{children:"Promise"}),"<",(0,d.jsx)(s.code,{children:"boolean"})," | ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})}),">"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Function to get scope rules for post-resolution authorization"}),"\n",(0,d.jsx)(s.h4,{id:"type-parameters-4",children:"Type Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsx)(s.tr,{children:(0,d.jsx)(s.th,{children:"Type Parameter"})})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Result"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Root"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Context"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Args"})}),"\n"]})})]})]}),"\n",(0,d.jsx)(s.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Parameter"}),(0,d.jsx)(s.th,{children:"Type"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"params"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"MiddlewareParams"}),"<",(0,d.jsx)(s.code,{children:"Root"}),", ",(0,d.jsx)(s.code,{children:"Context"}),", ",(0,d.jsx)(s.code,{children:"Args"}),">"]}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"result"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Result"})}),"\n"]})]})]})]}),"\n",(0,d.jsx)(s.h4,{id:"returns-1",children:"Returns"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"boolean"})," | ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})})," | ",(0,d.jsx)(s.code,{children:"Promise"}),"<",(0,d.jsx)(s.code,{children:"boolean"})," | ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})}),">"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"getscopeloaderctx",children:"GetScopeLoader()<Ctx>"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"GetScopeLoader"}),"<",(0,d.jsx)(s.code,{children:"Ctx"}),">: (",(0,d.jsx)(s.code,{children:"ctx"}),") => ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scopeloadermap",children:(0,d.jsx)(s.code,{children:"ScopeLoaderMap"})})," | ",(0,d.jsx)(s.code,{children:"Promise"}),"<",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scopeloadermap",children:(0,d.jsx)(s.code,{children:"ScopeLoaderMap"})}),">"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Function that creates scope loaders for authorization checks.\nReturns a map of scope loaders that can be synchronous or asynchronous."}),"\n",(0,d.jsx)(s.h4,{id:"type-parameters-5",children:"Type Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsx)(s.tr,{children:(0,d.jsx)(s.th,{children:"Type Parameter"})})}),(0,d.jsx)(s.tbody,{children:(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Ctx"})}),"\n"]})})})]}),"\n",(0,d.jsx)(s.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Parameter"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsx)(s.tbody,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"ctx"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Ctx"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"The application context"}),"\n"]})]})})]}),"\n",(0,d.jsx)(s.h4,{id:"returns-2",children:"Returns"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scopeloadermap",children:(0,d.jsx)(s.code,{children:"ScopeLoaderMap"})})," | ",(0,d.jsx)(s.code,{children:"Promise"}),"<",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scopeloadermap",children:(0,d.jsx)(s.code,{children:"ScopeLoaderMap"})}),">"]}),"\n",(0,d.jsx)(s.p,{children:"A map of scope loaders or a promise resolving to scope loaders"}),"\n",(0,d.jsx)(s.h4,{id:"example",children:"Example"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-typescript",children:"const getScopeLoader: GetScopeLoader<Context> = (ctx) => ({\n  isLoggedIn: async () => {\n    if (!ctx.userId) throw new UnauthenticatedError();\n    return true;\n  },\n  hasAccess: (role) => ctx.user?.role === role,\n});\n"})}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"getscoperulesroot-context-args",children:"GetScopeRules()<Root, Context, Args>"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"GetScopeRules"}),"<",(0,d.jsx)(s.code,{children:"Root"}),", ",(0,d.jsx)(s.code,{children:"Context"}),", ",(0,d.jsx)(s.code,{children:"Args"}),">: (",(0,d.jsx)(s.code,{children:"params"}),") => ",(0,d.jsx)(s.code,{children:"boolean"})," | ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})})," | ",(0,d.jsx)(s.code,{children:"Promise"}),"<",(0,d.jsx)(s.code,{children:"boolean"})," | ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})}),">"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Function to get scope rules for pre-resolution authorization"}),"\n",(0,d.jsx)(s.h4,{id:"type-parameters-6",children:"Type Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsx)(s.tr,{children:(0,d.jsx)(s.th,{children:"Type Parameter"})})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Root"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Context"})}),"\n"]})}),(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Args"})}),"\n"]})})]})]}),"\n",(0,d.jsx)(s.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Parameter"}),(0,d.jsx)(s.th,{children:"Type"})]})}),(0,d.jsx)(s.tbody,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"params"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"MiddlewareParams"}),"<",(0,d.jsx)(s.code,{children:"Root"}),", ",(0,d.jsx)(s.code,{children:"Context"}),", ",(0,d.jsx)(s.code,{children:"Args"}),">"]}),"\n"]})]})})]}),"\n",(0,d.jsx)(s.h4,{id:"returns-3",children:"Returns"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"boolean"})," | ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})})," | ",(0,d.jsx)(s.code,{children:"Promise"}),"<",(0,d.jsx)(s.code,{children:"boolean"})," | ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#scoperules",children:(0,d.jsx)(s.code,{children:"ScopeRules"})}),">"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"logicrule",children:"LogicRule"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"LogicRule"}),": ",(0,d.jsx)(s.code,{children:'"$and"'})," | ",(0,d.jsx)(s.code,{children:'"$or"'})," | ",(0,d.jsx)(s.code,{children:'"$chain"'})," | ",(0,d.jsx)(s.code,{children:'"$race"'})]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Possible logical operators that can be used in a rule"}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"scopeerrorresolver",children:"ScopeErrorResolver()"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"ScopeErrorResolver"}),": (",(0,d.jsx)(s.code,{children:"err"}),", ",(0,d.jsx)(s.code,{children:"path"}),") => ",(0,d.jsx)(s.code,{children:"Error"})," | ",(0,d.jsx)(s.code,{children:"unknown"})]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Custom error resolver function for authorization failures."}),"\n",(0,d.jsx)(s.h4,{id:"parameters-4",children:"Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Parameter"}),(0,d.jsx)(s.th,{children:"Type"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"err"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"unknown"})}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"path"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"string"})}),"\n"]})]})]})]}),"\n",(0,d.jsx)(s.h4,{id:"returns-4",children:"Returns"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"Error"})," | ",(0,d.jsx)(s.code,{children:"unknown"})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"scopeloadert",children:"ScopeLoader<T>"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"ScopeLoader"}),"<",(0,d.jsx)(s.code,{children:"T"}),">: ",(0,d.jsx)(s.code,{children:"boolean"})," | (",(0,d.jsx)(s.code,{children:"value"}),") => ",(0,d.jsx)(s.code,{children:"boolean"})," | ",(0,d.jsx)(s.code,{children:"Promise"}),"<",(0,d.jsx)(s.code,{children:"boolean"}),">"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Represents a scope loader that can be either a boolean value or a function.\nFunction loaders receive the scope value and return a boolean result."}),"\n",(0,d.jsx)(s.h4,{id:"type-parameters-7",children:"Type Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsx)(s.tr,{children:(0,d.jsx)(s.th,{children:"Type Parameter"})})}),(0,d.jsx)(s.tbody,{children:(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"T"})}),"\n"]})})})]}),"\n",(0,d.jsx)(s.h4,{id:"example-1",children:"Example"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-typescript",children:"// Boolean loader\nconst publicLoader: ScopeLoader<boolean> = true;\n\n// Function loader\nconst roleLoader: ScopeLoader<string> = (role) => userRole === role;\n"})}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"scopeloadermap",children:"ScopeLoaderMap"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"ScopeLoaderMap"}),": ",(0,d.jsx)(s.code,{children:"{ [K in Scopes]: ScopeLoader<Scopes[K]> }"})]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Maps scope names to their respective loaders.\nEach loader handles authorization checks for its scope."}),"\n",(0,d.jsx)(s.h4,{id:"example-2",children:"Example"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-typescript",children:"const loaders: ScopeLoaderMap = {\n  isPublic: true,\n  isLoggedIn: () => Boolean(ctx.userId),\n  hasAccess: (role) => ctx.user?.roles.includes(role),\n};\n"})}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"scoperulet",children:"ScopeRule<T>"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"ScopeRule"}),"<",(0,d.jsx)(s.code,{children:"T"}),">: ",(0,d.jsx)(s.code,{children:"T"})," ",(0,d.jsx)(s.em,{children:"extends"})," ",(0,d.jsx)(s.code,{children:"boolean"})," ? ",(0,d.jsx)(s.code,{children:"true"})," : ",(0,d.jsx)(s.code,{children:"T"})]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Utility type that enforces boolean scopes must be true.\nFor non-boolean scopes, preserves the original type."}),"\n",(0,d.jsx)(s.h4,{id:"type-parameters-8",children:"Type Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsx)(s.tr,{children:(0,d.jsx)(s.th,{children:"Type Parameter"})})}),(0,d.jsx)(s.tbody,{children:(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"T"})}),"\n"]})})})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"scoperules",children:"ScopeRules"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"ScopeRules"}),": ",(0,d.jsx)(s.code,{children:"{ [K in Scopes]?: ScopeRule<Scopes[K]> }"})," & ",(0,d.jsx)(s.code,{children:"{ [r in LogicRule]?: ScopeRules }"})," & ",(0,d.jsx)(s.code,{children:"object"})]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Defines the structure of authorization scope rules.\nCombines individual scope rules with logical operators and granted permissions."}),"\n",(0,d.jsx)(s.h4,{id:"type-declaration-1",children:"Type declaration"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Name"}),(0,d.jsx)(s.th,{children:"Type"})]})}),(0,d.jsx)(s.tbody,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"$granted"}),"?"]}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/namespaces/AuthExtension#grants",children:(0,d.jsx)(s.code,{children:"Grants"})})}),"\n"]})]})})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"scopes",children:"Scopes"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Scopes"}),": keyof ",(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/namespaces/AuthExtension#scopes",children:(0,d.jsx)(s.code,{children:"Scopes"})})]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Type alias representing all available scope keys defined in AuthExtension.Scopes.\nUsed as the base for constructing scope rules."}),"\n",(0,d.jsx)(s.h2,{id:"functions",children:"Functions"}),"\n",(0,d.jsx)(s.h3,{id:"aggregateerrorresolver",children:"aggregateErrorResolver()"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"aggregateErrorResolver"}),"(",(0,d.jsx)(s.code,{children:"err"}),", ",(0,d.jsx)(s.code,{children:"path"}),"): ",(0,d.jsx)(s.code,{children:"any"})]}),"\n"]}),"\n",(0,d.jsxs)(s.p,{children:["Default error resolver for authorization failures.\nIf multiple authorization errors are encountered they are combined into ",(0,d.jsx)(s.code,{children:"AggregateGraphQLError"})," with proper HTTP status codes."]}),"\n",(0,d.jsx)(s.h4,{id:"parameters-5",children:"Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Parameter"}),(0,d.jsx)(s.th,{children:"Type"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"err"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"AggregateError"})}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"path"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"string"})}),"\n"]})]})]})]}),"\n",(0,d.jsx)(s.h4,{id:"returns-5",children:"Returns"}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"any"})}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"authextension",children:"authExtension()"}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"authExtension"}),"<",(0,d.jsx)(s.code,{children:"Ctx"}),">(",(0,d.jsx)(s.code,{children:"loadScopes"}),", ",(0,d.jsx)(s.code,{children:"options"}),"): () => ",(0,d.jsx)(s.code,{children:"Extension"})]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Creates an authentication extension."}),"\n",(0,d.jsx)(s.h4,{id:"type-parameters-9",children:"Type Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsx)(s.tr,{children:(0,d.jsx)(s.th,{children:"Type Parameter"})})}),(0,d.jsx)(s.tbody,{children:(0,d.jsx)(s.tr,{children:(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Ctx"})}),"\n"]})})})]}),"\n",(0,d.jsx)(s.h4,{id:"parameters-6",children:"Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Parameter"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"loadScopes"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#getscopeloaderctx",children:(0,d.jsx)(s.code,{children:"GetScopeLoader"})}),"<",(0,d.jsx)(s.code,{children:"Ctx"}),">"]}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Function to load authorization scopes"}),"\n"]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"options"})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/#authoptions",children:(0,d.jsx)(s.code,{children:"AuthOptions"})})}),"\n"]}),(0,d.jsxs)(s.td,{children:["\n",(0,d.jsx)(s.p,{children:"Configuration options for the auth extension"}),"\n"]})]})]})]}),"\n",(0,d.jsx)(s.h4,{id:"returns-6",children:"Returns"}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Function"})}),"\n",(0,d.jsx)(s.p,{children:"A factory function that creates an AuthExtension instance"}),"\n",(0,d.jsx)(s.h5,{id:"returns-7",children:"Returns"}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.code,{children:"Extension"})}),"\n",(0,d.jsx)(s.h4,{id:"example-3",children:"Example"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-typescript",children:"const authExt = authExtension<Context>(\n  async (ctx) => ({\n    isLoggedIn: () => ctx.userId != null,\n    hasRole: (role) => ctx.user?.role === role,\n  }),\n  {\n    defaultScopes: {\n      Query: { isLoggedIn: true },\n      Mutation: { isLoggedIn: true },\n      Subscription: { subscribe: { isLoggedIn: true } },\n    },\n  },\n);\n"})}),"\n",(0,d.jsx)(s.h2,{id:"namespaces",children:"Namespaces"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/namespaces/AuthExtension",children:"AuthExtension"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.a,{href:"/docs/api/extension-auth/namespaces/AuthExtensionMethods",children:"AuthExtensionMethods"})}),"\n"]})]})}function x(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},2410:(e,s,r)=>{var n=r(7402),d=Symbol.for("react.element"),c=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,r){var n,c={},o=null,h=null;for(n in void 0!==r&&(o=""+r),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(h=s.ref),s)t.call(s,n)&&!i.hasOwnProperty(n)&&(c[n]=s[n]);if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===c[n]&&(c[n]=s[n]);return{$$typeof:d,type:e,key:o,ref:h,props:c,_owner:l.current}}s.Fragment=c,s.jsx=o,s.jsxs=o},7250:(e,s,r)=>{e.exports=r(2410)},589:(e,s,r)=>{r.d(s,{R:()=>t,x:()=>l});var n=r(7402);const d={},c=n.createContext(d);function t(e){const s=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),n.createElement(c.Provider,{value:s},e.children)}}}]);